{% extends 'layouts/task_layout.html' %}


{% block title %}{{ user_task.task.get_task_type_display }}{% endblock title %}


{% block task_layout %}
<div class="grid gap-4">
    <h1 class="text-2xl font-medium">{{ user_task.task.get_task_type_display }}</h1>
    
    {% if task_type == 'video' %}
        {% include 'components/app/task_video.html' %}
    {% elif task_type == 'written' %}
        {% include 'components/app/task_written.html' %}
    {% elif task_type == 'text_gap' %}
        {% for tg in user_text_gaps %}
            {{ tg.text_gap.prompt|safe }}
            <input type="text" name="answer_{{ tg.id }}" value="{{ tg.answer }}">
        {% endfor %}
    {% elif task_type == 'test' %}
        {% for answer in user_answers %}
            Сұрақ: {{ answer.question.text|safe }}
            {% for opt in answer.question.options.all %}
                <label><input type="checkbox" name="opt_{{ opt.id }}"> {{ opt.text|safe }}</label>
            {% endfor %}
        {% endfor %}
    {% elif task_type == 'matching' %}
        {% for match in user_matchings %}
            {{ match.pair.left_item }} — {{ match.selected_right }}
        {% endfor %}
    {% endif %}
</div>
{% endblock task_layout %}